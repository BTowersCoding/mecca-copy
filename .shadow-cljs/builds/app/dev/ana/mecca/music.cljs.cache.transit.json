["^ ","~:output",["^ ","~:js","goog.provide('mecca.music');\r\ngoog.require('cljs.core');\r\ngoog.require('cljs.core.async');\r\ngoog.require('re_frame.core');\r\nmecca.music.mario_jump = (function mecca$music$mario_jump(){\r\nvar beat = (function (){var G__49555 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49555) : re_frame.core.subscribe.call(null,G__49555));\r\n})();\r\nvar notes = (function (){var G__49556 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49556) : re_frame.core.subscribe.call(null,G__49556));\r\n})();\r\nvar jump = (function (){var G__49557 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49557) : re_frame.core.subscribe.call(null,G__49557));\r\n})();\r\nif(cljs.core.truth_((function (){var and__4174__auto__ = cljs.core.deref((function (){var G__49560 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49560) : re_frame.core.subscribe.call(null,G__49560));\r\n})());\r\nif(cljs.core.truth_(and__4174__auto__)){\r\nreturn (cljs.core.deref(jump) === (0));\r\n} else {\r\nreturn and__4174__auto__;\r\n}\r\n})())){\r\nif(((0) < cljs.core.count(cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__49554_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__49554_SHARP_),(cljs.core.deref(beat) + (1)));\r\n}),cljs.core.deref(notes))))){\r\nvar G__49561 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"jump!\",\"jump!\",-1168155200)], null);\r\nreturn (re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__49561) : re_frame.core.dispatch.call(null,G__49561));\r\n} else {\r\nreturn null;\r\n}\r\n} else {\r\nreturn null;\r\n}\r\n});\r\nmecca.music.mario_move = (function mecca$music$mario_move(){\r\nvar notes = (function (){var G__49563 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49563) : re_frame.core.subscribe.call(null,G__49563));\r\n})();\r\nvar playing_QMARK_ = cljs.core.deref((function (){var G__49564 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49564) : re_frame.core.subscribe.call(null,G__49564));\r\n})());\r\nvar now = cljs.core.deref((function (){var G__49565 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49565) : re_frame.core.subscribe.call(null,G__49565));\r\n})()).currentTime;\r\nvar length = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__49562_SHARP_){\r\nreturn new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__49562_SHARP_);\r\n}),cljs.core.deref(notes)));\r\nvar started = (function (){var G__49566 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49566) : re_frame.core.subscribe.call(null,G__49566));\r\n})();\r\nvar elapsed = (now - cljs.core.deref(started));\r\nvar beat_length = ((60) / cljs.core.deref((function (){var G__49567 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49567) : re_frame.core.subscribe.call(null,G__49567));\r\n})()));\r\nvar end_time = (cljs.core.deref(started) + (beat_length * (4)));\r\nvar current_beat = (elapsed / beat_length);\r\nvar last_drawn_pos = (function (){var G__49568 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49568) : re_frame.core.subscribe.call(null,G__49568));\r\n})();\r\nif(cljs.core.truth_(playing_QMARK_)){\r\nif((length < current_beat)){\r\nvar G__49569_49849 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-off\",\"play-off\",2116693509)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__49569_49849) : re_frame.core.dispatch.call(null,G__49569_49849));\r\n} else {\r\nif((cljs.core.deref(last_drawn_pos) < current_beat)){\r\nvar G__49570_49853 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"move-mario\",\"move-mario\",-317739908)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__49570_49853) : re_frame.core.dispatch.call(null,G__49570_49853));\r\n\r\nvar G__49571_49855 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"advance-position\",\"advance-position\",-23796893)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__49571_49855) : re_frame.core.dispatch.call(null,G__49571_49855));\r\n} else {\r\n}\r\n}\r\n} else {\r\n}\r\n\r\nreturn mecca.music.mario_jump();\r\n});\r\nmecca.music.dispatch_timer_event = (function mecca$music$dispatch_timer_event(){\r\nvar G__49572_49860 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tick!\",\"tick!\",68058958)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__49572_49860) : re_frame.core.dispatch.call(null,G__49572_49860));\r\n\r\nreturn mecca.music.mario_move();\r\n});\r\nif((typeof mecca !== 'undefined') && (typeof mecca.music !== 'undefined') && (typeof mecca.music.do_timer !== 'undefined')){\r\n} else {\r\nmecca.music.do_timer = setInterval(mecca.music.dispatch_timer_event,(60));\r\n}\r\nmecca.music.load_sound = (function mecca$music$load_sound(named_url){\r\nvar out = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\r\nvar req = (new XMLHttpRequest());\r\n(req.responseType = \"arraybuffer\");\r\n\r\n(req.onload = (function (e){\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(req.status,(200))){\r\ncljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(out,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(named_url,new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198),req.response));\r\n\r\nreturn cljs.core.async.close_BANG_(out);\r\n} else {\r\nreturn cljs.core.async.close_BANG_(out);\r\n}\r\n}));\r\n\r\nreq.open(\"GET\",new cljs.core.Keyword(null,\"url\",\"url\",276297046).cljs$core$IFn$_invoke$arity$1(named_url),true);\r\n\r\nreq.send();\r\n\r\nreturn out;\r\n});\r\nmecca.music.decode = (function mecca$music$decode(named_url){\r\nvar out = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\r\nif(cljs.core.truth_(new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198).cljs$core$IFn$_invoke$arity$1(named_url))){\r\ncljs.core.deref((function (){var G__49573 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49573) : re_frame.core.subscribe.call(null,G__49573));\r\n})()).decodeAudioData(new cljs.core.Keyword(null,\"buffer\",\"buffer\",617295198).cljs$core$IFn$_invoke$arity$1(named_url),(function (decoded_buffer){\r\ncljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(out,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(named_url,new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700),decoded_buffer));\r\n\r\nreturn cljs.core.async.close_BANG_(out);\r\n}),(function (){\r\nconsole.error(\"Error loading file \",cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([named_url], 0)));\r\n\r\nreturn cljs.core.async.close_BANG_(out);\r\n}));\r\n} else {\r\ncljs.core.async.close_BANG_(out);\r\n}\r\n\r\nreturn out;\r\n});\r\nmecca.music.buffer_source = (function mecca$music$buffer_source(buffer){\r\nvar source = cljs.core.deref((function (){var G__49574 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49574) : re_frame.core.subscribe.call(null,G__49574));\r\n})()).createBufferSource();\r\n(source.buffer = buffer);\r\n\r\nreturn source;\r\n});\r\nmecca.music.get_and_decode = (function mecca$music$get_and_decode(named_url){\r\nvar c__30223__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\r\ncljs.core.async.impl.dispatch.run((function (){\r\nvar f__30224__auto__ = (function (){var switch__29913__auto__ = (function (state_49586){\r\nvar state_val_49587 = (state_49586[(1)]);\r\nif((state_val_49587 === (1))){\r\nvar inst_49575 = mecca.music.load_sound(named_url);\r\nvar state_49586__$1 = state_49586;\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_49586__$1,(2),inst_49575);\r\n} else {\r\nif((state_val_49587 === (2))){\r\nvar inst_49577 = (state_49586[(7)]);\r\nvar inst_49577__$1 = (state_49586[(2)]);\r\nvar state_49586__$1 = (function (){var statearr_49588 = state_49586;\r\n(statearr_49588[(7)] = inst_49577__$1);\r\n\r\nreturn statearr_49588;\r\n})();\r\nif(cljs.core.truth_(inst_49577__$1)){\r\nvar statearr_49589_49917 = state_49586__$1;\r\n(statearr_49589_49917[(1)] = (3));\r\n\r\n} else {\r\nvar statearr_49590_49919 = state_49586__$1;\r\n(statearr_49590_49919[(1)] = (4));\r\n\r\n}\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_49587 === (3))){\r\nvar inst_49577 = (state_49586[(7)]);\r\nvar inst_49579 = mecca.music.decode(inst_49577);\r\nvar state_49586__$1 = state_49586;\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_49586__$1,(6),inst_49579);\r\n} else {\r\nif((state_val_49587 === (4))){\r\nvar state_49586__$1 = state_49586;\r\nvar statearr_49591_49924 = state_49586__$1;\r\n(statearr_49591_49924[(2)] = null);\r\n\r\n(statearr_49591_49924[(1)] = (5));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_49587 === (5))){\r\nvar inst_49584 = (state_49586[(2)]);\r\nvar state_49586__$1 = state_49586;\r\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_49586__$1,inst_49584);\r\n} else {\r\nif((state_val_49587 === (6))){\r\nvar inst_49581 = (state_49586[(2)]);\r\nvar state_49586__$1 = state_49586;\r\nvar statearr_49592_49928 = state_49586__$1;\r\n(statearr_49592_49928[(2)] = inst_49581);\r\n\r\n(statearr_49592_49928[(1)] = (5));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nreturn null;\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n});\r\nreturn (function() {\r\nvar mecca$music$get_and_decode_$_state_machine__29914__auto__ = null;\r\nvar mecca$music$get_and_decode_$_state_machine__29914__auto____0 = (function (){\r\nvar statearr_49593 = [null,null,null,null,null,null,null,null];\r\n(statearr_49593[(0)] = mecca$music$get_and_decode_$_state_machine__29914__auto__);\r\n\r\n(statearr_49593[(1)] = (1));\r\n\r\nreturn statearr_49593;\r\n});\r\nvar mecca$music$get_and_decode_$_state_machine__29914__auto____1 = (function (state_49586){\r\nwhile(true){\r\nvar ret_value__29915__auto__ = (function (){try{while(true){\r\nvar result__29916__auto__ = switch__29913__auto__(state_49586);\r\nif(cljs.core.keyword_identical_QMARK_(result__29916__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\ncontinue;\r\n} else {\r\nreturn result__29916__auto__;\r\n}\r\nbreak;\r\n}\r\n}catch (e49594){if((e49594 instanceof Object)){\r\nvar ex__29917__auto__ = e49594;\r\nvar statearr_49595_49974 = state_49586;\r\n(statearr_49595_49974[(5)] = ex__29917__auto__);\r\n\r\n\r\ncljs.core.async.impl.ioc_helpers.process_exception(state_49586);\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nthrow e49594;\r\n\r\n}\r\n}})();\r\nif(cljs.core.keyword_identical_QMARK_(ret_value__29915__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\nvar G__49975 = state_49586;\r\nstate_49586 = G__49975;\r\ncontinue;\r\n} else {\r\nreturn ret_value__29915__auto__;\r\n}\r\nbreak;\r\n}\r\n});\r\nmecca$music$get_and_decode_$_state_machine__29914__auto__ = function(state_49586){\r\nswitch(arguments.length){\r\ncase 0:\r\nreturn mecca$music$get_and_decode_$_state_machine__29914__auto____0.call(this);\r\ncase 1:\r\nreturn mecca$music$get_and_decode_$_state_machine__29914__auto____1.call(this,state_49586);\r\n}\r\nthrow(new Error('Invalid arity: ' + arguments.length));\r\n};\r\nmecca$music$get_and_decode_$_state_machine__29914__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$get_and_decode_$_state_machine__29914__auto____0;\r\nmecca$music$get_and_decode_$_state_machine__29914__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$get_and_decode_$_state_machine__29914__auto____1;\r\nreturn mecca$music$get_and_decode_$_state_machine__29914__auto__;\r\n})()\r\n})();\r\nvar state__30225__auto__ = (function (){var statearr_49596 = (f__30224__auto__.cljs$core$IFn$_invoke$arity$0 ? f__30224__auto__.cljs$core$IFn$_invoke$arity$0() : f__30224__auto__.call(null));\r\n(statearr_49596[(6)] = c__30223__auto__);\r\n\r\nreturn statearr_49596;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__30225__auto__);\r\n}));\r\n\r\nreturn c__30223__auto__;\r\n});\r\nmecca.music.zero_pad = (function mecca$music$zero_pad(n){\r\nif((n < (10))){\r\nreturn [\"0\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(n)].join('');\r\n} else {\r\nreturn n;\r\n}\r\n});\r\nmecca.music.measures = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__49597_SHARP_){\r\nreturn [\"tub-\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(mecca.music.zero_pad(p1__49597_SHARP_))].join('');\r\n}),cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(21)));\r\nmecca.music.sax = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__49598_SHARP_){\r\nreturn [\"sax-\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(mecca.music.zero_pad(p1__49598_SHARP_))].join('');\r\n}),cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(14)));\r\nmecca.music.load_samples = (function mecca$music$load_samples(){\r\nvar c__30223__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\r\ncljs.core.async.impl.dispatch.run((function (){\r\nvar f__30224__auto__ = (function (){var switch__29913__auto__ = (function (state_49629){\r\nvar state_val_49630 = (state_49629[(1)]);\r\nif((state_val_49630 === (1))){\r\nvar inst_49599 = cljs.core.PersistentHashMap.EMPTY;\r\nvar inst_49600 = cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(19));\r\nvar inst_49601 = cljs.core.into.cljs$core$IFn$_invoke$arity$2(mecca.music.measures,inst_49600);\r\nvar inst_49602 = cljs.core.into.cljs$core$IFn$_invoke$arity$2(mecca.music.sax,inst_49601);\r\nvar inst_49603 = inst_49599;\r\nvar inst_49604 = inst_49602;\r\nvar state_49629__$1 = (function (){var statearr_49631 = state_49629;\r\n(statearr_49631[(7)] = inst_49604);\r\n\r\n(statearr_49631[(8)] = inst_49603);\r\n\r\nreturn statearr_49631;\r\n})();\r\nvar statearr_49632_49977 = state_49629__$1;\r\n(statearr_49632_49977[(2)] = null);\r\n\r\n(statearr_49632_49977[(1)] = (2));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_49630 === (2))){\r\nvar inst_49604 = (state_49629[(7)]);\r\nvar inst_49606 = cljs.core.first(inst_49604);\r\nvar inst_49607 = (inst_49606 == null);\r\nvar inst_49608 = cljs.core.not(inst_49607);\r\nvar state_49629__$1 = state_49629;\r\nif(inst_49608){\r\nvar statearr_49633_49978 = state_49629__$1;\r\n(statearr_49633_49978[(1)] = (4));\r\n\r\n} else {\r\nvar statearr_49634_49979 = state_49629__$1;\r\n(statearr_49634_49979[(1)] = (5));\r\n\r\n}\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_49630 === (3))){\r\nvar inst_49627 = (state_49629[(2)]);\r\nvar state_49629__$1 = state_49629;\r\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_49629__$1,inst_49627);\r\n} else {\r\nif((state_val_49630 === (4))){\r\nvar inst_49610 = (state_49629[(9)]);\r\nvar inst_49604 = (state_49629[(7)]);\r\nvar inst_49610__$1 = cljs.core.first(inst_49604);\r\nvar inst_49611 = [new cljs.core.Keyword(null,\"url\",\"url\",276297046),new cljs.core.Keyword(null,\"sound\",\"sound\",-2127407070)];\r\nvar inst_49612 = [\"/audio/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(inst_49610__$1),\".wav\"].join('');\r\nvar inst_49613 = [inst_49612,inst_49610__$1];\r\nvar inst_49614 = cljs.core.PersistentHashMap.fromArrays(inst_49611,inst_49613);\r\nvar inst_49615 = mecca.music.get_and_decode(inst_49614);\r\nvar state_49629__$1 = (function (){var statearr_49635 = state_49629;\r\n(statearr_49635[(9)] = inst_49610__$1);\r\n\r\nreturn statearr_49635;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_49629__$1,(7),inst_49615);\r\n} else {\r\nif((state_val_49630 === (5))){\r\nvar inst_49603 = (state_49629[(8)]);\r\nvar state_49629__$1 = state_49629;\r\nvar statearr_49636_49980 = state_49629__$1;\r\n(statearr_49636_49980[(2)] = inst_49603);\r\n\r\n(statearr_49636_49980[(1)] = (6));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_49630 === (6))){\r\nvar inst_49625 = (state_49629[(2)]);\r\nvar state_49629__$1 = state_49629;\r\nvar statearr_49637_49981 = state_49629__$1;\r\n(statearr_49637_49981[(2)] = inst_49625);\r\n\r\n(statearr_49637_49981[(1)] = (3));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nif((state_val_49630 === (7))){\r\nvar inst_49610 = (state_49629[(9)]);\r\nvar inst_49604 = (state_49629[(7)]);\r\nvar inst_49603 = (state_49629[(8)]);\r\nvar inst_49617 = (state_49629[(2)]);\r\nvar inst_49618 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([inst_49610], 0));\r\nvar inst_49619 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([inst_49617], 0));\r\nvar inst_49620 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(inst_49603,inst_49610,inst_49617);\r\nvar inst_49621 = cljs.core.rest(inst_49604);\r\nvar inst_49603__$1 = inst_49620;\r\nvar inst_49604__$1 = inst_49621;\r\nvar state_49629__$1 = (function (){var statearr_49638 = state_49629;\r\n(statearr_49638[(10)] = inst_49619);\r\n\r\n(statearr_49638[(11)] = inst_49618);\r\n\r\n(statearr_49638[(7)] = inst_49604__$1);\r\n\r\n(statearr_49638[(8)] = inst_49603__$1);\r\n\r\nreturn statearr_49638;\r\n})();\r\nvar statearr_49639_49982 = state_49629__$1;\r\n(statearr_49639_49982[(2)] = null);\r\n\r\n(statearr_49639_49982[(1)] = (2));\r\n\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nreturn null;\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n});\r\nreturn (function() {\r\nvar mecca$music$load_samples_$_state_machine__29914__auto__ = null;\r\nvar mecca$music$load_samples_$_state_machine__29914__auto____0 = (function (){\r\nvar statearr_49640 = [null,null,null,null,null,null,null,null,null,null,null,null];\r\n(statearr_49640[(0)] = mecca$music$load_samples_$_state_machine__29914__auto__);\r\n\r\n(statearr_49640[(1)] = (1));\r\n\r\nreturn statearr_49640;\r\n});\r\nvar mecca$music$load_samples_$_state_machine__29914__auto____1 = (function (state_49629){\r\nwhile(true){\r\nvar ret_value__29915__auto__ = (function (){try{while(true){\r\nvar result__29916__auto__ = switch__29913__auto__(state_49629);\r\nif(cljs.core.keyword_identical_QMARK_(result__29916__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\ncontinue;\r\n} else {\r\nreturn result__29916__auto__;\r\n}\r\nbreak;\r\n}\r\n}catch (e49641){if((e49641 instanceof Object)){\r\nvar ex__29917__auto__ = e49641;\r\nvar statearr_49642_49983 = state_49629;\r\n(statearr_49642_49983[(5)] = ex__29917__auto__);\r\n\r\n\r\ncljs.core.async.impl.ioc_helpers.process_exception(state_49629);\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nthrow e49641;\r\n\r\n}\r\n}})();\r\nif(cljs.core.keyword_identical_QMARK_(ret_value__29915__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\nvar G__49984 = state_49629;\r\nstate_49629 = G__49984;\r\ncontinue;\r\n} else {\r\nreturn ret_value__29915__auto__;\r\n}\r\nbreak;\r\n}\r\n});\r\nmecca$music$load_samples_$_state_machine__29914__auto__ = function(state_49629){\r\nswitch(arguments.length){\r\ncase 0:\r\nreturn mecca$music$load_samples_$_state_machine__29914__auto____0.call(this);\r\ncase 1:\r\nreturn mecca$music$load_samples_$_state_machine__29914__auto____1.call(this,state_49629);\r\n}\r\nthrow(new Error('Invalid arity: ' + arguments.length));\r\n};\r\nmecca$music$load_samples_$_state_machine__29914__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$load_samples_$_state_machine__29914__auto____0;\r\nmecca$music$load_samples_$_state_machine__29914__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$load_samples_$_state_machine__29914__auto____1;\r\nreturn mecca$music$load_samples_$_state_machine__29914__auto__;\r\n})()\r\n})();\r\nvar state__30225__auto__ = (function (){var statearr_49643 = (f__30224__auto__.cljs$core$IFn$_invoke$arity$0 ? f__30224__auto__.cljs$core$IFn$_invoke$arity$0() : f__30224__auto__.call(null));\r\n(statearr_49643[(6)] = c__30223__auto__);\r\n\r\nreturn statearr_49643;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__30225__auto__);\r\n}));\r\n\r\nreturn c__30223__auto__;\r\n});\r\nif((typeof mecca !== 'undefined') && (typeof mecca.music !== 'undefined') && (typeof mecca.music.loading_samples !== 'undefined')){\r\n} else {\r\nmecca.music.loading_samples = (function (){var c__30223__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\r\ncljs.core.async.impl.dispatch.run((function (){\r\nvar f__30224__auto__ = (function (){var switch__29913__auto__ = (function (state_49653){\r\nvar state_val_49654 = (state_49653[(1)]);\r\nif((state_val_49654 === (1))){\r\nvar inst_49644 = cljs.core.PersistentVector.EMPTY_NODE;\r\nvar inst_49645 = mecca.music.load_samples();\r\nvar state_49653__$1 = (function (){var statearr_49655 = state_49653;\r\n(statearr_49655[(7)] = inst_49644);\r\n\r\nreturn statearr_49655;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_49653__$1,(2),inst_49645);\r\n} else {\r\nif((state_val_49654 === (2))){\r\nvar inst_49644 = (state_49653[(7)]);\r\nvar inst_49647 = (state_49653[(2)]);\r\nvar inst_49648 = [new cljs.core.Keyword(null,\"load-samples\",\"load-samples\",-40877701),inst_49647];\r\nvar inst_49649 = (new cljs.core.PersistentVector(null,2,(5),inst_49644,inst_49648,null));\r\nvar inst_49650 = (re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(inst_49649) : re_frame.core.dispatch.call(null,inst_49649));\r\nvar inst_49651 = cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([\"Samples loaded\"], 0));\r\nvar state_49653__$1 = (function (){var statearr_49656 = state_49653;\r\n(statearr_49656[(8)] = inst_49650);\r\n\r\nreturn statearr_49656;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_49653__$1,inst_49651);\r\n} else {\r\nreturn null;\r\n}\r\n}\r\n});\r\nreturn (function() {\r\nvar mecca$music$state_machine__29914__auto__ = null;\r\nvar mecca$music$state_machine__29914__auto____0 = (function (){\r\nvar statearr_49657 = [null,null,null,null,null,null,null,null,null];\r\n(statearr_49657[(0)] = mecca$music$state_machine__29914__auto__);\r\n\r\n(statearr_49657[(1)] = (1));\r\n\r\nreturn statearr_49657;\r\n});\r\nvar mecca$music$state_machine__29914__auto____1 = (function (state_49653){\r\nwhile(true){\r\nvar ret_value__29915__auto__ = (function (){try{while(true){\r\nvar result__29916__auto__ = switch__29913__auto__(state_49653);\r\nif(cljs.core.keyword_identical_QMARK_(result__29916__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\ncontinue;\r\n} else {\r\nreturn result__29916__auto__;\r\n}\r\nbreak;\r\n}\r\n}catch (e49658){if((e49658 instanceof Object)){\r\nvar ex__29917__auto__ = e49658;\r\nvar statearr_49659_49985 = state_49653;\r\n(statearr_49659_49985[(5)] = ex__29917__auto__);\r\n\r\n\r\ncljs.core.async.impl.ioc_helpers.process_exception(state_49653);\r\n\r\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\r\n} else {\r\nthrow e49658;\r\n\r\n}\r\n}})();\r\nif(cljs.core.keyword_identical_QMARK_(ret_value__29915__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\r\nvar G__49986 = state_49653;\r\nstate_49653 = G__49986;\r\ncontinue;\r\n} else {\r\nreturn ret_value__29915__auto__;\r\n}\r\nbreak;\r\n}\r\n});\r\nmecca$music$state_machine__29914__auto__ = function(state_49653){\r\nswitch(arguments.length){\r\ncase 0:\r\nreturn mecca$music$state_machine__29914__auto____0.call(this);\r\ncase 1:\r\nreturn mecca$music$state_machine__29914__auto____1.call(this,state_49653);\r\n}\r\nthrow(new Error('Invalid arity: ' + arguments.length));\r\n};\r\nmecca$music$state_machine__29914__auto__.cljs$core$IFn$_invoke$arity$0 = mecca$music$state_machine__29914__auto____0;\r\nmecca$music$state_machine__29914__auto__.cljs$core$IFn$_invoke$arity$1 = mecca$music$state_machine__29914__auto____1;\r\nreturn mecca$music$state_machine__29914__auto__;\r\n})()\r\n})();\r\nvar state__30225__auto__ = (function (){var statearr_49660 = (f__30224__auto__.cljs$core$IFn$_invoke$arity$0 ? f__30224__auto__.cljs$core$IFn$_invoke$arity$0() : f__30224__auto__.call(null));\r\n(statearr_49660[(6)] = c__30223__auto__);\r\n\r\nreturn statearr_49660;\r\n})();\r\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__30225__auto__);\r\n}));\r\n\r\nreturn c__30223__auto__;\r\n})();\r\n}\r\nmecca.music.add_semitone = (function mecca$music$add_semitone(rate){\r\nreturn (rate * Math.pow((2),((1) / (12))));\r\n});\r\nmecca.music.sub_semitone = (function mecca$music$sub_semitone(rate){\r\nreturn (rate * Math.pow((2),((-1) / (12))));\r\n});\r\nmecca.music.inc_rate = (function mecca$music$inc_rate(semis){\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(mecca.music.add_semitone,cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(semis,(1)));\r\n});\r\nmecca.music.dec_rate = (function mecca$music$dec_rate(semis){\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(mecca.music.sub_semitone,cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(semis,(1)));\r\n});\r\nmecca.music.pitch__GT_rate = (function mecca$music$pitch__GT_rate(midi_num){\r\nif(((66) < midi_num)){\r\nreturn mecca.music.inc_rate((midi_num - (66)));\r\n} else {\r\nreturn mecca.music.dec_rate(((68) - midi_num));\r\n}\r\n});\r\nmecca.music.play_note = (function mecca$music$play_note(pitch){\r\nvar context = cljs.core.deref((function (){var G__49661 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49661) : re_frame.core.subscribe.call(null,G__49661));\r\n})());\r\nvar samples = (function (){var G__49662 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49662) : re_frame.core.subscribe.call(null,G__49662));\r\n})();\r\nvar instrument = (function (){var G__49663 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49663) : re_frame.core.subscribe.call(null,G__49663));\r\n})();\r\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),cljs.core.deref(instrument)));\r\nvar sample_source = context.createBufferSource();\r\n(sample_source.buffer = audio_buffer);\r\n\r\nsample_source.playbackRate.setValueAtTime(mecca.music.pitch__GT_rate(pitch),context.currentTime);\r\n\r\nsample_source.connect(context.destination);\r\n\r\nsample_source.start();\r\n\r\nreturn sample_source;\r\n});\r\nmecca.music.play_sample = (function mecca$music$play_sample(instrument,pitch){\r\nvar context = (function (){var G__49664 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49664) : re_frame.core.subscribe.call(null,G__49664));\r\n})();\r\nvar samples = (function (){var G__49665 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49665) : re_frame.core.subscribe.call(null,G__49665));\r\n})();\r\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),instrument));\r\nvar sample_source = cljs.core.deref(context).createBufferSource();\r\nvar compressor = cljs.core.deref(context).createDynamicsCompressor();\r\nvar analyser = cljs.core.deref(context).createAnalyser();\r\n(sample_source.buffer = audio_buffer);\r\n\r\nsample_source.playbackRate.setValueAtTime(mecca.music.pitch__GT_rate(pitch),cljs.core.deref(context).currentTime);\r\n\r\nsample_source.connect(analyser);\r\n\r\nsample_source.connect(cljs.core.deref(context).destination);\r\n\r\nsample_source.start();\r\n\r\nreturn sample_source;\r\n});\r\nmecca.music.play_at = (function mecca$music$play_at(instrument,pitch,time){\r\nvar context = (function (){var G__49666 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49666) : re_frame.core.subscribe.call(null,G__49666));\r\n})();\r\nvar samples = (function (){var G__49667 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"samples\",\"samples\",635504833)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49667) : re_frame.core.subscribe.call(null,G__49667));\r\n})();\r\nvar audio_buffer = new cljs.core.Keyword(null,\"decoded-buffer\",\"decoded-buffer\",598746700).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(samples),instrument));\r\nvar sample_source = cljs.core.deref(context).createBufferSource();\r\n(sample_source.buffer = audio_buffer);\r\n\r\nsample_source.playbackRate.setValueAtTime(mecca.music.pitch__GT_rate(pitch),time);\r\n\r\nsample_source.connect(cljs.core.deref(context).destination);\r\n\r\nsample_source.start(time);\r\n\r\nreturn sample_source;\r\n});\r\nmecca.music.delay_note = (function mecca$music$delay_note(beats,note){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(note,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),(function (p1__49668_SHARP_){\r\nreturn (beats + p1__49668_SHARP_);\r\n}));\r\n});\r\nmecca.music.advance_note = (function mecca$music$advance_note(beats,note){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(note,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),(function (p1__49669_SHARP_){\r\nreturn (p1__49669_SHARP_ - beats);\r\n}));\r\n});\r\nmecca.music.queue_section = (function mecca$music$queue_section(from,to){\r\nvar notes = (function (){var G__49672 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49672) : re_frame.core.subscribe.call(null,G__49672));\r\n})();\r\nvar started = (function (){var G__49673 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49673) : re_frame.core.subscribe.call(null,G__49673));\r\n})();\r\nvar tempo = (function (){var G__49674 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49674) : re_frame.core.subscribe.call(null,G__49674));\r\n})();\r\nvar section = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__49670_SHARP_){\r\nreturn (((from <= new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__49670_SHARP_))) && ((new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__49670_SHARP_) <= to)));\r\n}),cljs.core.deref(notes));\r\nvar advanced = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__49671_SHARP_){\r\nreturn mecca.music.advance_note(from,p1__49671_SHARP_);\r\n}),section);\r\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$queue_section_$_iter__49675(s__49676){\r\nreturn (new cljs.core.LazySeq(null,(function (){\r\nvar s__49676__$1 = s__49676;\r\nwhile(true){\r\nvar temp__5735__auto__ = cljs.core.seq(s__49676__$1);\r\nif(temp__5735__auto__){\r\nvar s__49676__$2 = temp__5735__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(s__49676__$2)){\r\nvar c__4580__auto__ = cljs.core.chunk_first(s__49676__$2);\r\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\r\nvar b__49678 = cljs.core.chunk_buffer(size__4581__auto__);\r\nif((function (){var i__49677 = (0);\r\nwhile(true){\r\nif((i__49677 < size__4581__auto__)){\r\nvar map__49679 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__49677);\r\nvar map__49679__$1 = (((((!((map__49679 == null))))?(((((map__49679.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49679.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__49679):map__49679);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49679__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49679__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49679__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\ncljs.core.chunk_append(b__49678,mecca.music.play_at(instrument,pitch,(cljs.core.deref(started) + (((60) / cljs.core.deref(tempo)) * time))));\r\n\r\nvar G__50007 = (i__49677 + (1));\r\ni__49677 = G__50007;\r\ncontinue;\r\n} else {\r\nreturn true;\r\n}\r\nbreak;\r\n}\r\n})()){\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__49678),mecca$music$queue_section_$_iter__49675(cljs.core.chunk_rest(s__49676__$2)));\r\n} else {\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__49678),null);\r\n}\r\n} else {\r\nvar map__49681 = cljs.core.first(s__49676__$2);\r\nvar map__49681__$1 = (((((!((map__49681 == null))))?(((((map__49681.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49681.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__49681):map__49681);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49681__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49681__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49681__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(cljs.core.deref(started) + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$queue_section_$_iter__49675(cljs.core.rest(s__49676__$2)));\r\n}\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),null,null));\r\n});\r\nreturn iter__4582__auto__(section);\r\n})());\r\n});\r\nmecca.music.play_section = (function mecca$music$play_section(from,to){\r\nvar notes = (function (){var G__49685 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49685) : re_frame.core.subscribe.call(null,G__49685));\r\n})();\r\nvar now = cljs.core.deref((function (){var G__49686 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49686) : re_frame.core.subscribe.call(null,G__49686));\r\n})()).currentTime;\r\nvar tempo = (function (){var G__49687 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49687) : re_frame.core.subscribe.call(null,G__49687));\r\n})();\r\nvar section = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__49683_SHARP_){\r\nreturn (((from <= new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__49683_SHARP_))) && ((new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__49683_SHARP_) <= to)));\r\n}),cljs.core.deref(notes));\r\nvar advanced = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__49684_SHARP_){\r\nreturn mecca.music.advance_note(from,p1__49684_SHARP_);\r\n}),section);\r\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$play_section_$_iter__49688(s__49689){\r\nreturn (new cljs.core.LazySeq(null,(function (){\r\nvar s__49689__$1 = s__49689;\r\nwhile(true){\r\nvar temp__5735__auto__ = cljs.core.seq(s__49689__$1);\r\nif(temp__5735__auto__){\r\nvar s__49689__$2 = temp__5735__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(s__49689__$2)){\r\nvar c__4580__auto__ = cljs.core.chunk_first(s__49689__$2);\r\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\r\nvar b__49691 = cljs.core.chunk_buffer(size__4581__auto__);\r\nif((function (){var i__49690 = (0);\r\nwhile(true){\r\nif((i__49690 < size__4581__auto__)){\r\nvar map__49692 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__49690);\r\nvar map__49692__$1 = (((((!((map__49692 == null))))?(((((map__49692.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49692.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__49692):map__49692);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49692__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49692__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49692__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\ncljs.core.chunk_append(b__49691,mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))));\r\n\r\nvar G__50008 = (i__49690 + (1));\r\ni__49690 = G__50008;\r\ncontinue;\r\n} else {\r\nreturn true;\r\n}\r\nbreak;\r\n}\r\n})()){\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__49691),mecca$music$play_section_$_iter__49688(cljs.core.chunk_rest(s__49689__$2)));\r\n} else {\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__49691),null);\r\n}\r\n} else {\r\nvar map__49694 = cljs.core.first(s__49689__$2);\r\nvar map__49694__$1 = (((((!((map__49694 == null))))?(((((map__49694.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49694.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__49694):map__49694);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49694__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49694__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49694__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$play_section_$_iter__49688(cljs.core.rest(s__49689__$2)));\r\n}\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),null,null));\r\n});\r\nreturn iter__4582__auto__(advanced);\r\n})());\r\n});\r\nmecca.music.play_notes = (function mecca$music$play_notes(n){\r\nvar editor_start = (function (){var G__49696 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49696) : re_frame.core.subscribe.call(null,G__49696));\r\n})();\r\nvar tempo = (function (){var G__49697 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49697) : re_frame.core.subscribe.call(null,G__49697));\r\n})();\r\nvar beat_length = ((60) / cljs.core.deref((function (){var G__49698 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49698) : re_frame.core.subscribe.call(null,G__49698));\r\n})()));\r\nvar play_pos = (((cljs.core.deref(editor_start) < (4)))?cljs.core.deref(editor_start):((4) + cljs.core.deref((function (){var G__49699 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49699) : re_frame.core.subscribe.call(null,G__49699));\r\n})())));\r\nreturn mecca.music.play_section((play_pos - (1)),((play_pos - (1)) + (n * 0.5)));\r\n});\r\nmecca.music.play_from_here = (function mecca$music$play_from_here(){\r\nvar notes = (function (){var G__49701 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49701) : re_frame.core.subscribe.call(null,G__49701));\r\n})();\r\nvar editor_start = (function (){var G__49702 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49702) : re_frame.core.subscribe.call(null,G__49702));\r\n})();\r\nvar play_pos = cljs.core.deref(editor_start);\r\nvar length = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__49700_SHARP_){\r\nreturn new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__49700_SHARP_);\r\n}),cljs.core.deref(notes)));\r\nreturn mecca.music.play_section((play_pos - (1)),((16) + play_pos));\r\n});\r\nmecca.music.play_song_BANG_ = (function mecca$music$play_song_BANG_(){\r\nvar notes = (function (){var G__49703 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49703) : re_frame.core.subscribe.call(null,G__49703));\r\n})();\r\nvar now = cljs.core.deref((function (){var G__49704 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49704) : re_frame.core.subscribe.call(null,G__49704));\r\n})()).currentTime;\r\nvar tempo = (function (){var G__49705 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__49705) : re_frame.core.subscribe.call(null,G__49705));\r\n})();\r\nvar G__49706_50015 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"reset-position\",\"reset-position\",-804750860)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__49706_50015) : re_frame.core.dispatch.call(null,G__49706_50015));\r\n\r\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4582__auto__ = (function mecca$music$play_song_BANG__$_iter__49707(s__49708){\r\nreturn (new cljs.core.LazySeq(null,(function (){\r\nvar s__49708__$1 = s__49708;\r\nwhile(true){\r\nvar temp__5735__auto__ = cljs.core.seq(s__49708__$1);\r\nif(temp__5735__auto__){\r\nvar s__49708__$2 = temp__5735__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(s__49708__$2)){\r\nvar c__4580__auto__ = cljs.core.chunk_first(s__49708__$2);\r\nvar size__4581__auto__ = cljs.core.count(c__4580__auto__);\r\nvar b__49710 = cljs.core.chunk_buffer(size__4581__auto__);\r\nif((function (){var i__49709 = (0);\r\nwhile(true){\r\nif((i__49709 < size__4581__auto__)){\r\nvar map__49711 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__4580__auto__,i__49709);\r\nvar map__49711__$1 = (((((!((map__49711 == null))))?(((((map__49711.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49711.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__49711):map__49711);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49711__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49711__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49711__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\ncljs.core.chunk_append(b__49710,mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))));\r\n\r\nvar G__50016 = (i__49709 + (1));\r\ni__49709 = G__50016;\r\ncontinue;\r\n} else {\r\nreturn true;\r\n}\r\nbreak;\r\n}\r\n})()){\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__49710),mecca$music$play_song_BANG__$_iter__49707(cljs.core.chunk_rest(s__49708__$2)));\r\n} else {\r\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__49710),null);\r\n}\r\n} else {\r\nvar map__49713 = cljs.core.first(s__49708__$2);\r\nvar map__49713__$1 = (((((!((map__49713 == null))))?(((((map__49713.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__49713.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__49713):map__49713);\r\nvar time = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49713__$1,new cljs.core.Keyword(null,\"time\",\"time\",1385887882));\r\nvar instrument = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49713__$1,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844));\r\nvar pitch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49713__$1,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700));\r\nreturn cljs.core.cons(mecca.music.play_at(instrument,pitch,(now + (((60) / cljs.core.deref(tempo)) * time))),mecca$music$play_song_BANG__$_iter__49707(cljs.core.rest(s__49708__$2)));\r\n}\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),null,null));\r\n});\r\nreturn iter__4582__auto__(cljs.core.deref(notes));\r\n})());\r\n});\r\nmecca.music.get_bytes_BANG_ = (function mecca$music$get_bytes_BANG_(analyser,freq_data){\r\nanalyser.getByteFrequencyData(freq_data);\r\n\r\nreturn freq_data;\r\n});\r\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","mecca/music.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",16],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$react","~$module$node_modules$react$index","~$create-react-class","~$module$node_modules$create_react_class$index","~$react-dom","~$module$node_modules$react_dom$index"],"~:use-macros",["^ ","~$go","~$cljs.core.async.macros","~$go-loop","^F"],"~:excludes",["~#set",[]],"~:name","~$mecca.music","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$cljs.core.async","^P","~$re-frame.core","^Q","~$rf","^Q","~$cljs.core","^S","~$goog","^T"],"~:seen",["^I",["~:require","~:require-macros"]],"~:uses",["^ ","~$<!","^P","~$chan","^P","~$put!","^P","~$close!","^P","~$subscribe","^Q","~$dispatch","^Q"],"^W",["^ ","^F","^F","^S","^S","^P","^P"],"~:form",["~#list",["~$ns","^K",["^14",["^V",["^P","~:refer",["^Y","^Z","^[","^10"]],["^Q","~:as","^R","^16",["^11","^12"]]]],["^14",["^W",["^F","^16",["^E","^G"]]]]]],"~:flags",["^ ","^V",["^I",[]],"^W",["^I",[]]],"~:js-deps",["^ "],"~:deps",["^T","^S","^P","^Q"]],"^M","^K","~:resource-id",["~:shadow.build.classpath/resource","mecca/music.cljs"],"~:compiled-at",1665962610549,"~:resource-name","mecca/music.cljs","~:warnings",[],"~:source","(ns mecca.music\r\n  (:require\r\n   [cljs.core.async :refer [<! chan put! close!]]\r\n   [re-frame.core :as rf :refer [subscribe dispatch]])\r\n  (:require-macros\r\n   [cljs.core.async.macros :refer [go go-loop]]))\r\n\r\n(defn mario-jump []\r\n  (let [beat (subscribe [:current-position])\r\n        notes (subscribe [:notes])\r\n        jump (subscribe [:mario-jump])]\r\n    (when (and @(subscribe [:playing?])\r\n               (zero? @jump))\r\n      (if (< 0 (count (filter #(= (:time %) (inc @beat))\r\n                              @notes)))\r\n        (dispatch [:jump!])))))\r\n\r\n(defn mario-move []\r\n  (let [notes (subscribe [:notes])\r\n        playing? @(subscribe [:playing?])\r\n        now (.-currentTime @(subscribe [:audio-context]))\r\n        length (apply max (map #(:time %) @notes))\r\n        started (subscribe [:play-start])\r\n        elapsed (- now @started)\r\n        beat-length (/ 60 @(subscribe [:tempo]))\r\n        end-time (+ @started (* beat-length 4))\r\n        current-beat (/ elapsed beat-length)\r\n        last-drawn-pos (subscribe [:current-position])]\r\n    (when playing?\r\n      (if (< length current-beat)\r\n        (dispatch [:play-off])\r\n        (if (< @last-drawn-pos current-beat)\r\n          (do (dispatch [:move-mario])\r\n              (dispatch [:advance-position])))))\r\n    (mario-jump)))\r\n\r\n(defn dispatch-timer-event []\r\n  (dispatch [:tick!])\r\n  (mario-move))\r\n\r\n(defonce do-timer\r\n  (js/setInterval dispatch-timer-event 60))\r\n\r\n(defn load-sound [named-url]\r\n  (let [out (chan)\r\n        req (js/XMLHttpRequest.)]\r\n    (set! (.-responseType req) \"arraybuffer\")\r\n    (set! (.-onload req) (fn [e]\r\n                           (if (= (.-status req) 200)\r\n                             (do (put! out (assoc named-url :buffer (.-response req)))\r\n                                 (close! out))\r\n                             (close! out))))\r\n    (.open req \"GET\" (:url named-url) true)\r\n    (.send req)\r\n    out))\r\n\r\n(defn decode [named-url]\r\n  (let [out (chan)]\r\n    (if (:buffer named-url)\r\n      (do\r\n        (.decodeAudioData\r\n         @(subscribe [:audio-context]) (:buffer named-url)\r\n         (fn [decoded-buffer]\r\n           (put! out (assoc named-url :decoded-buffer decoded-buffer))\r\n           (close! out))\r\n         (fn []\r\n           (.error js/console \"Error loading file \" (prn named-url))\r\n           (close! out))))\r\n      (close! out))\r\n    out))\r\n\r\n(defn buffer-source [buffer]\r\n  (let [source (.createBufferSource @(subscribe [:audio-context]))]\r\n    (set! (.-buffer source) buffer)\r\n    source))\r\n\r\n(defn get-and-decode [named-url]\r\n  (go\r\n    (when-let [s (<! (load-sound named-url))]\r\n      (<! (decode s)))))\r\n\r\n(defn zero-pad [n]\r\n  (if (< n 10) (str \"0\" n) n))\r\n\r\n(def measures (map #(str \"tub-\" (zero-pad %))\r\n                   (range 1 21)))\r\n\r\n(def sax (map #(str \"sax-\" (zero-pad %))\r\n              (range 1 14)))\r\n\r\n(defn load-samples []\r\n  (go-loop [result {}\r\n            sounds (into sax (into measures (range 1 19)))]\r\n    (if-not (nil? (first sounds))\r\n      (let [sound (first sounds)\r\n            decoded-buffer (<! (get-and-decode {:url (str \"/audio/\" sound \".wav\")\r\n                                                :sound sound}))]\r\n        (prn sound)\r\n        (prn decoded-buffer)\r\n        (recur (assoc result sound decoded-buffer)\r\n               (rest sounds)))\r\n      result)))\r\n\r\n(defonce loading-samples\r\n  (go\r\n    (dispatch [:load-samples  (<! (load-samples))])\r\n    (prn \"Samples loaded\")))\r\n\r\n(defn add-semitone [rate]\r\n  (* rate (.pow js/Math 2 (/ 1 12))))\r\n\r\n(defn sub-semitone [rate]\r\n  (* rate (.pow js/Math 2 (/ -1 12))))\r\n\r\n(defn inc-rate [semis]\r\n  (reduce add-semitone (repeat semis 1)))\r\n\r\n(defn dec-rate [semis]\r\n  (reduce sub-semitone (repeat semis 1)))\r\n\r\n(defn pitch->rate [midi-num]\r\n  (if (< 66 midi-num)\r\n    (inc-rate (- midi-num 66))\r\n    (dec-rate (- 68 midi-num))))\r\n\r\n(defn play-note [pitch]\r\n  (let [context       @(subscribe [:audio-context])\r\n        samples       (subscribe [:samples])\r\n        instrument    (subscribe [:instrument])\r\n        audio-buffer  (:decoded-buffer (get @samples @instrument))\r\n        sample-source (.createBufferSource context)]\r\n    (set! (.-buffer sample-source) audio-buffer)\r\n    (.setValueAtTime\r\n     (.-playbackRate sample-source)\r\n     (pitch->rate pitch)\r\n     (.-currentTime context))\r\n    (.connect sample-source (.-destination context))\r\n    (.start sample-source)\r\n    sample-source))\r\n\r\n(defn play-sample [instrument pitch]\r\n  (let [context (subscribe [:audio-context])\r\n        samples (subscribe [:samples])\r\n        audio-buffer (:decoded-buffer (get @samples instrument))\r\n        sample-source (.createBufferSource @context)\r\n        compressor (.createDynamicsCompressor @context)\r\n        analyser (.createAnalyser @context)]\r\n    (set! (.-buffer sample-source) audio-buffer)\r\n    (.setValueAtTime\r\n     (.-playbackRate sample-source)\r\n     (pitch->rate pitch)\r\n     (.-currentTime @context))\r\n    (.connect sample-source analyser)\r\n    (.connect sample-source (.-destination @context))\r\n    (.start sample-source)\r\n    sample-source))\r\n\r\n(defn play-at [instrument pitch time]\r\n  (let [context (subscribe [:audio-context])\r\n        samples (subscribe [:samples])\r\n        audio-buffer (:decoded-buffer (get @samples instrument))\r\n        sample-source (.createBufferSource @context)]\r\n    (set! (.-buffer sample-source) audio-buffer)\r\n    (.setValueAtTime\r\n     (.-playbackRate sample-source)\r\n     (pitch->rate pitch)\r\n     time)\r\n    (.connect sample-source (.-destination @context))\r\n    (.start sample-source time)\r\n    sample-source))\r\n\r\n(defn delay-note [beats note]\r\n  (update note :time #(+ beats %)))\r\n\r\n(defn advance-note [beats note]\r\n  (update note :time #(- % beats)))\r\n\r\n(defn queue-section [from to]\r\n  (let [notes (subscribe [:notes])\r\n        started (subscribe [:play-start])\r\n        tempo (subscribe [:tempo])\r\n        section (filter #(<= from (:time %) to) @notes)\r\n        advanced (map #(advance-note from %) section)]\r\n    (doall (for [{:keys [time instrument pitch]} section]\r\n             (play-at instrument pitch (+ @started (* (/ 60 @tempo) time)))))))\r\n\r\n(defn play-section [from to]\r\n  (let [notes (subscribe [:notes])\r\n        now (.-currentTime @(subscribe [:audio-context]))\r\n        tempo (subscribe [:tempo])\r\n        section (filter #(<= from (:time %) to) @notes)\r\n        advanced (map #(advance-note from %) section)]\r\n    (doall (for [{:keys [time instrument pitch]} advanced]\r\n             (play-at instrument pitch (+ now (* (/ 60 @tempo) time)))))))\r\n\r\n(defn play-notes [n]\r\n  (let [editor-start (subscribe [:editor-beat-start])\r\n        tempo (subscribe [:tempo])\r\n        beat-length (/ 60 @(subscribe [:tempo]))\r\n        play-pos (if (< @editor-start 4)\r\n                   @editor-start\r\n                   (+ 4 @(subscribe [:editor-beat-start])))]\r\n    (play-section (dec play-pos) (+ (dec play-pos) (* n 0.5)))))\r\n\r\n(defn play-from-here []\r\n  (let [notes (subscribe [:notes])\r\n        editor-start (subscribe [:editor-beat-start])\r\n        play-pos ;(if (< @editor-start 4)\r\n        @editor-start\r\n                  ; (+ 4 @(subscribe [:editor-beat-start])))\r\n        length (apply max (map #(:time %) @notes))]\r\n    (play-section (dec play-pos) (+ 16 play-pos))))\r\n\r\n(defn play-song! []\r\n  (let [notes (subscribe [:notes])\r\n        now (.-currentTime @(subscribe [:audio-context]))\r\n        tempo (subscribe [:tempo])]\r\n    (dispatch [:reset-position])\r\n    (doall (for [{:keys [time instrument pitch]} @notes]\r\n             (play-at instrument pitch (+ now (* (/ 60 @tempo) time)))))))\r\n\r\n(defn get-bytes! [analyser freq-data]\r\n  (.getByteFrequencyData analyser freq-data)\r\n  freq-data)\r\n","~:reader-features",["^I",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["mecca.music/mario-jump","beat","G__49555","re-frame.core/subscribe","notes","G__49556","jump","G__49557","and__4174__auto__","cljs.core/deref","G__49560","cljs.core/count","p1__49554#","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","G__49561","re-frame.core/dispatch","mecca.music/mario-move","G__49563","playing?","G__49564","now","G__49565","length","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/max","p1__49562#","cljs.core.map.cljs$core$IFn$_invoke$arity$2","started","G__49566","elapsed","beat-length","G__49567","end-time","current-beat","last-drawn-pos","G__49568","G__49569","G__49570","G__49571","mecca.music/dispatch-timer-event","G__49572","js/mecca","js/mecca.music","js/mecca.music.do-timer","mecca.music/do-timer","js/setInterval","mecca.music/load-sound","named-url","out","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","req","js/XMLHttpRequest","e","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","cljs.core.async/close!","mecca.music/decode","G__49573","decoded-buffer","js/console","cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic","mecca.music/buffer-source","buffer","source","G__49574","mecca.music/get-and-decode","c__30223__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__30224__auto__","switch__29913__auto__","state_49586","state_val_49587","inst_49575","cljs.core.async.impl.ioc-helpers/take!","inst_49577","statearr-49588","statearr-49589","statearr-49590","inst_49579","statearr-49591","inst_49584","cljs.core.async.impl.ioc-helpers/return-chan","inst_49581","statearr-49592","statearr-49593","state-machine__29914__auto__","ret-value__29915__auto__","result__29916__auto__","cljs.core/keyword-identical?","e49594","js/Object","ex__29917__auto__","statearr-49595","cljs.core.async.impl.ioc-helpers/process-exception","state__30225__auto__","statearr-49596","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","mecca.music/zero-pad","n","mecca.music/measures","p1__49597#","cljs.core.range.cljs$core$IFn$_invoke$arity$2","mecca.music/sax","p1__49598#","mecca.music/load-samples","state_49629","state_val_49630","inst_49599","cljs.core/PersistentHashMap","inst_49600","inst_49601","inst_49602","inst_49603","inst_49604","statearr-49631","statearr-49632","inst_49606","inst_49607","inst_49608","cljs.core/not","statearr-49633","statearr-49634","inst_49627","inst_49610","inst_49611","inst_49612","inst_49613","inst_49614","inst_49615","statearr-49635","statearr-49636","inst_49625","statearr-49637","inst_49617","inst_49618","inst_49619","inst_49620","inst_49621","statearr-49638","statearr-49639","statearr-49640","e49641","statearr-49642","statearr-49643","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core/first","cljs.core/rest","js/mecca.music.loading-samples","mecca.music/loading-samples","state_49653","state_val_49654","inst_49644","cljs.core/PersistentVector","inst_49645","statearr-49655","inst_49647","inst_49648","inst_49649","inst_49650","inst_49651","statearr-49656","statearr-49657","e49658","statearr-49659","statearr-49660","mecca.music/add-semitone","rate","js/Math","mecca.music/sub-semitone","mecca.music/inc-rate","semis","cljs.core.reduce.cljs$core$IFn$_invoke$arity$2","cljs.core.repeat.cljs$core$IFn$_invoke$arity$2","mecca.music/dec-rate","mecca.music/pitch->rate","midi-num","mecca.music/play-note","pitch","context","G__49661","samples","G__49662","instrument","G__49663","audio-buffer","cljs.core.get.cljs$core$IFn$_invoke$arity$2","sample-source","mecca.music/play-sample","G__49664","G__49665","compressor","analyser","mecca.music/play-at","time","G__49666","G__49667","mecca.music/delay-note","beats","note","p1__49668#","cljs.core.update.cljs$core$IFn$_invoke$arity$3","mecca.music/advance-note","p1__49669#","mecca.music/queue-section","from","to","G__49672","G__49673","tempo","G__49674","section","p1__49670#","advanced","p1__49671#","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","iter__4582__auto__","s__49676","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4580__auto__","size__4581__auto__","b__49678","cljs.core/chunk-buffer","i__49677","map__49679","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/PROTOCOL_SENTINEL","cljs.core/hash-map","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__49675","cljs.core/chunk-rest","map__49681","cljs.core/cons","mecca.music/play-section","G__49685","G__49686","G__49687","p1__49683#","p1__49684#","s__49689","b__49691","i__49690","map__49692","iter__49688","map__49694","mecca.music/play-notes","editor-start","G__49696","G__49697","G__49698","play-pos","G__49699","mecca.music/play-from-here","G__49701","G__49702","p1__49700#","mecca.music/play-song!","G__49703","G__49704","G__49705","G__49706","s__49708","b__49710","i__49709","map__49711","iter__49707","map__49713","mecca.music/get-bytes!","freq-data","cljs.core/chunk-first"]]],"~:cache-keys",["~#cmap",[["~:shadow.build.npm/resource","node_modules/react-dom/index.js"],[1651803609000,1651803609000,1665953995518,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^I",[]],"~:deps-syms",["~$shadow.js","~$module$node_modules$react_dom$cjs$react_dom_production_min","~$module$node_modules$react_dom$cjs$react_dom_development"]]],["^1<","reagent/impl/batching.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$reagent.debug","~$reagent.interop","~$reagent.impl.util","~$clojure.string"]]],["^1<","goog/dom/tagname.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.dom.HtmlElement"]]],["^1<","cljs/core/async/impl/ioc_helpers.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$cljs.core.async.impl.protocols"]]],["^1<","goog/labs/useragent/platform.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.labs.userAgent.util","~$goog.string"]]],["^1<","cljs/core/async.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers","~$goog.array"]]],["^1<","goog/math/math.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","~$goog.asserts"]]],["^1<","goog/html/trustedtypes.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/labs/useragent/browser.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^1W","~$goog.object","~$goog.string.internal"]]],["^1<","goog/html/safeurl.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^25"]]],["^1<","re_frame/loggers.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$clojure.set"]]],["^1<","goog/array/array.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23"]]],["^1I","node_modules/prop-types/checkPropTypes.js"],[1651803609000,1651803609000,1665953995565,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$prop_types$lib$ReactPropTypesSecret"]]],["^1<","reagent/impl/util.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1Q","^1R","^1T"]]],["^1<","goog/useragent/useragent.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^1W","~$goog.reflect","^1X"]]],["^1<","re_frame/router.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$re-frame.events","~$re-frame.interop","~$re-frame.loggers","~$re-frame.trace"]]],["^1I","node_modules/fbjs/lib/emptyFunction.js"],[1651803609000,1651803609000,1665953995892,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","goog/debug/error.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","re_frame/registrar.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2C","^2D"]]],["^1I","node_modules/fbjs/lib/emptyObject.js"],[1651803609000,1651803609000,1665953995875,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","goog/dom/nodetype.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/cjs/scheduler.development.js"],[1651803609000,1651803609000,1665953995809,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","reagent/ratom.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1S","^1Q","~$reagent.impl.batching","^2<"]]],["^1I","node_modules/scheduler/cjs/scheduler.production.min.js"],[1651803609000,1651803609000,1665953995819,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","re_frame/interop.cljs"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$goog.async.nextTick","~$reagent.core","~$reagent.ratom"]]],["^1<","goog/string/typedstring.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/cjs/scheduler-tracing.production.min.js"],[1651803609000,1651803609000,1665953995735,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1I","node_modules/create-react-class/factory.js"],[1651803609000,1651803609000,1665953995534,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$object_assign$index","~$module$node_modules$fbjs$lib$emptyObject","~$module$node_modules$fbjs$lib$invariant","~$module$node_modules$fbjs$lib$warning"]]],["^1I","node_modules/react/index.js"],[1651803609000,1651803609000,1665953995517,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$react$cjs$react_production_min","~$module$node_modules$react$cjs$react_development"]]],["^1<","shadow/js.js"],[1651803609529,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/object/object.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","reagent/impl/template.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^?","^1T","~$clojure.walk","^1S","~$reagent.impl.component","^2F","^2I","^1R","^1Q"]]],["^1<","goog/dom/asserts.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23"]]],["^1I","node_modules/react-dom/cjs/react-dom.production.min.js"],[1651803609000,1651803609000,1665953996025,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^?","^2J","~$module$node_modules$scheduler$index"]]],"~:SHADOW-TIMESTAMP",[1651803609000,1651803607000],["^1I","node_modules/react/cjs/react.development.js"],[1651803609000,1651803609000,1665953995671,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^2J","~$module$node_modules$prop_types$checkPropTypes"]]],["^1<","re_frame/events.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$re-frame.db","~$re-frame.utils","^2C","~$re-frame.registrar","^2D","~$re-frame.interceptor","^2E"]]],["^1<","goog/math/long.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^2A"]]],["^1<","goog/html/trustedresourceurl.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","~$goog.html.trustedtypes","^28","^29","^2:","^2;"]]],["^1<","cljs/core/async/impl/channels.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V","^20","^1Z"]]],["^1<","goog/string/internal.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/cjs/scheduler-tracing.development.js"],[1651803609000,1651803609000,1665953995717,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1I","node_modules/fbjs/lib/warning.js"],[1651803609000,1651803609000,1665953996132,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$fbjs$lib$emptyFunction"]]],["^1<","goog/functions/functions.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","cljs/core/async/impl/dispatch.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1Z","^2G"]]],["^1<","goog/html/safestyle.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","~$goog.html.SafeUrl","^2:","^2;","^25"]]],["^1<","goog/dom/safe.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","~$goog.html.SafeScript","~$goog.html.SafeStyle","^2[","^27","~$goog.html.uncheckedconversions","^2:","^25"]]],["^1<","reagent/impl/component.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^A","^?","^1S","^2F","^2I","^1R","^1Q"]]],["^1<","clojure/walk.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","cljs/core/async/impl/protocols.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/structs/map.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^1<","goog/html/safehtml.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","~$goog.dom.TagName","~$goog.dom.tags","^33","^34","~$goog.html.SafeStyleSheet","^2[","^27","^2Y","^28","^29","^2>","^24","^2:","^2;","^25"]]],["^1<","goog/dom/tags.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^24"]]],["^1<","goog/math/size.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/scheduler/index.js"],[1651803609000,1651803609000,1665953995516,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$scheduler$cjs$scheduler_production_min","~$module$node_modules$scheduler$cjs$scheduler_development"]]],["^1<","goog/labs/useragent/engine.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^1W","^1X"]]],["^1<","goog/dom/dom.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","~$goog.dom.BrowserFeature","~$goog.dom.NodeType","^38","~$goog.dom.safe","^32","^35","~$goog.math.Coordinate","~$goog.math.Size","^24","^1X","~$goog.string.Unicode","~$goog.userAgent"]]],["^1<","goog/asserts/asserts.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.debug.Error","^3>"]]],["^1<","cljs/core/async/impl/buffers.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V"]]],["^1<","goog/uri/uri.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^1X","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1<","goog/i18n/bidi.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1I","node_modules/object-assign/index.js"],[1651803609000,1651803609000,1665953995485,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","re_frame/db.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2C"]]],["^1<","cljs/core/async/impl/timers.cljs"],[1651803607747,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1V","^1Y","^20"]]],["^1<","goog/fs/url.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/base.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",[]]],["^1<","goog/structs/structs.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^24"]]],["^1<","clojure/string.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^1X","~$goog.string.StringBuffer"]]],["^1I","node_modules/create-react-class/index.js"],[1651803609000,1651803609000,1665953995670,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^?","~$module$node_modules$create_react_class$factory"]]],["^1<","re_frame/cofx.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2U","^2X","^2W","^2D"]]],["^1I","node_modules/react/cjs/react.production.min.js"],[1651803609000,1651803609000,1665953995697,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^2J"]]],["^1<","goog/debug/entrypointregistry.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23"]]],["^1<","goog/string/string.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^3?","^35","^2:","^25"]]],["^1<","re_frame/interceptor.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2D","^2C","^2E","^2<"]]],["^1<","clojure/data.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2<"]]],["^1<","goog/reflect/reflect.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/labs/useragent/util.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^25"]]],["^1<","reagent/core.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^?","~$reagent.impl.template","^2Q","^1S","^2F","^2I","^1Q","^1R","~$reagent.dom"]]],["^1<","goog/string/stringbuffer.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","goog/math/coordinate.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.math"]]],["^1<","re_frame/std_interceptors.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2X","^2D","^2W","^2U","~$clojure.data","~$re-frame.cofx","^2V","^2E"]]],["^1<","goog/iter/iter.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^31","^3N"]]],["^1<","goog/async/nexttick.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","~$goog.debug.entryPointRegistry","~$goog.dom","^38","^3?","^31","^32","^27","^2>","^2?","^2:"]]],["^1<","goog/html/uncheckedconversions.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^32","^33","^34","^3:","^2[","^27","^2:","^25"]]],["^1<","re_frame/utils.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2D"]]],["^1<","reagent/dom.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^C","^1S","^3L","^2F","^2I","^1Q","^1R"]]],["^1<","re_frame/fx.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","~$re-frame.router","^2U","^2X","^2C","^2B","^2W","^2D","^2E"]]],["^1I","node_modules/prop-types/lib/ReactPropTypesSecret.js"],[1651803609000,1651803609000,1665953995795,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","reagent/interop.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/dom/htmlelement.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T"]]],["^1<","cljs/core.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["~$goog.math.Long","~$goog.math.Integer","^1X","^24","^22","~$goog.Uri","^3J"]]],["^1<","goog/html/safescript.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^2Y","^2:","^2;"]]],["^1<","reagent/debug.cljs"],[1650239977612,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/html/safestylesheet.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^34","^24","^2:","^2;","^25"]]],["^1<","mecca/music.cljs"],[1665962610031,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^P","^Q"]]],["^1<","goog/math/integer.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^2A"]]],["^1<","goog/dom/browserfeature.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^3C"]]],["^1I","node_modules/scheduler/tracing.js"],[1651803609000,1651803609000,1665953995655,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","~$module$node_modules$scheduler$cjs$scheduler_tracing_production_min","~$module$node_modules$scheduler$cjs$scheduler_tracing_development"]]],["^1I","node_modules/react-dom/cjs/react-dom.development.js"],[1651803609000,1651803609000,1665953996018,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N","^?","^2J","^2R","^2T","~$module$node_modules$scheduler$tracing"]]],["^1<","clojure/set.cljs"],[1651803607737,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S"]]],["^1<","goog/uri/utils.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^22","^23","^1X"]]],["^1<","goog/string/const.js"],[1651803607421,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^23","^2;"]]],["^1I","node_modules/fbjs/lib/invariant.js"],[1651803609000,1651803609000,1665953996014,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^1N"]]],["^1<","re_frame/trace.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2C","^2D","^31"]]],["^1<","re_frame/subs.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2U","^2C","^2D","^2V","^2W","^2E"]]],["^1<","re_frame/core.cljc"],[1650239977917,"^1J",["^ ","^1K",null,"^1L",["^I",[]],"^1M",["^T","^S","^2B","~$re-frame.subs","^2C","^2U","~$re-frame.fx","^3P","^3S","^2D","^2W","^2X","~$re-frame.std-interceptors","^2<"]]]]],"~:clj-info",["^ ","jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64_vlq.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/dispatch.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/reader_types.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/impl/ioc_macros.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/core.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/analyzer.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/protocols.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/exec/threadpool.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/ratom.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/errors.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/inspect.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/interop.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar!/net/cgrand/macrovich.cljc",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/tagged_literals.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/trace.cljc",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/util.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/interop.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/compiler.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/default_data_readers.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/externs.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/data.json/0.2.6/data.json-0.2.6.jar!/clojure/data/json.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/macros.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/core.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/env.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/concurrent.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/debug.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/js_deps.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1650075668000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","mecca/music.cljs","^7",1,"^8",5,"^9",1,"^:",16],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",["^ ","^E","^F","^G","^F"],"^H",["^I",[]],"^J","^K","^N",null,"^O",["^ ","^P","^P","^Q","^Q","^R","^Q","^S","^S","^T","^T"],"^U",["^I",["^V","^W"]],"~:shadow/js-access-global",["^I",["XMLHttpRequest","Object","Math","setInterval"]],"^X",["^ ","^Y","^P","^Z","^P","^[","^P","^10","^P","^11","^Q","^12","^Q"],"~:defs",["^ ","~$get-bytes!",["^ ","~:protocol-inline",null,"^5",["^ ","^6","mecca/music.cljs","^7",222,"^8",7,"^9",222,"^:",17,"~:arglists",["^14",["~$quote",["^14",[["~$analyser","~$freq-data"]]]]]],"^J","~$mecca.music/get-bytes!","^6","mecca/music.cljs","^:",17,"~:method-params",["^14",[["^53","^54"]]],"~:protocol-impl",null,"~:arglists-meta",["^14",[null,null]],"^8",1,"~:variadic?",false,"^7",222,"^9",222,"~:max-fixed-arity",2,"~:fn-var",true,"^51",["^14",["^52",["^14",[["^53","^54"]]]]]],"~$load-samples",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",91,"^8",7,"^9",91,"^:",19,"^51",["^14",["^52",["^14",[[]]]]]],"^J","~$mecca.music/load-samples","^6","mecca/music.cljs","^:",19,"^56",["^14",[[]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",91,"~:ret-tag","~$any","^9",91,"^5:",0,"^5;",true,"^51",["^14",["^52",["^14",[[]]]]]],"~$zero-pad",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",82,"^8",7,"^9",82,"^:",15,"^51",["^14",["^52",["^14",[["~$n"]]]]]],"^J","~$mecca.music/zero-pad","^6","mecca/music.cljs","^:",15,"^56",["^14",[["~$n"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",82,"^5>",["^I",[null,"~$string"]],"^9",82,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["~$n"]]]]]],"~$dec-rate",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",118,"^8",7,"^9",118,"^:",15,"^51",["^14",["^52",["^14",[["~$semis"]]]]]],"^J","~$mecca.music/dec-rate","^6","mecca/music.cljs","^:",15,"^56",["^14",[["^5D"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",118,"^5>","^5?","^9",118,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5D"]]]]]],"~$load-sound",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",44,"^8",7,"^9",44,"^:",17,"^51",["^14",["^52",["^14",[["~$named-url"]]]]]],"^J","~$mecca.music/load-sound","^6","mecca/music.cljs","^:",17,"^56",["^14",[["^5G"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",44,"^5>","^5?","^9",44,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5G"]]]]]],"~$decode",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",57,"^8",7,"^9",57,"^:",13,"^51",["^14",["^52",["^14",[["^5G"]]]]]],"^J","~$mecca.music/decode","^6","mecca/music.cljs","^:",13,"^56",["^14",[["^5G"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",57,"^5>","^5?","^9",57,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5G"]]]]]],"~$loading-samples",["^ ","^J","~$mecca.music/loading-samples","^6","mecca/music.cljs","^7",104,"^8",1,"^9",104,"^:",25,"^5",["^ ","^6","mecca/music.cljs","^7",104,"^8",10,"^9",104,"^:",25],"~:tag","^5?"],"~$play-at",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",158,"^8",7,"^9",158,"^:",14,"^51",["^14",["^52",["^14",[["~$instrument","~$pitch","~$time"]]]]]],"^J","~$mecca.music/play-at","^6","mecca/music.cljs","^:",14,"^56",["^14",[["^5O","^5P","^5Q"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",158,"^5>","^5?","^9",158,"^5:",3,"^5;",true,"^51",["^14",["^52",["^14",[["^5O","^5P","^5Q"]]]]]],"~$sub-semitone",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",112,"^8",7,"^9",112,"^:",19,"^51",["^14",["^52",["^14",[["~$rate"]]]]]],"^J","~$mecca.music/sub-semitone","^6","mecca/music.cljs","^:",19,"^56",["^14",[["^5T"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",112,"^5>","~$number","^9",112,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5T"]]]]]],"~$pitch->rate",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",121,"^8",7,"^9",121,"^:",18,"^51",["^14",["^52",["^14",[["~$midi-num"]]]]]],"^J","~$mecca.music/pitch->rate","^6","mecca/music.cljs","^:",18,"^56",["^14",[["^5X"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",121,"^5>","^5?","^9",121,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5X"]]]]]],"~$play-note",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",126,"^8",7,"^9",126,"^:",16,"^51",["^14",["^52",["^14",[["^5P"]]]]]],"^J","~$mecca.music/play-note","^6","mecca/music.cljs","^:",16,"^56",["^14",[["^5P"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",126,"^5>","^5?","^9",126,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5P"]]]]]],"~$advance-note",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",175,"^8",7,"^9",175,"^:",19,"^51",["^14",["^52",["^14",[["~$beats","~$note"]]]]]],"^J","~$mecca.music/advance-note","^6","mecca/music.cljs","^:",19,"^56",["^14",[["^61","^62"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",175,"^5>",["^I",["~$clj","^5?"]],"^9",175,"^5:",2,"^5;",true,"^51",["^14",["^52",["^14",[["^61","^62"]]]]]],"~$play-sample",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",141,"^8",7,"^9",141,"^:",18,"^51",["^14",["^52",["^14",[["^5O","^5P"]]]]]],"^J","~$mecca.music/play-sample","^6","mecca/music.cljs","^:",18,"^56",["^14",[["^5O","^5P"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",141,"^5>","^5?","^9",141,"^5:",2,"^5;",true,"^51",["^14",["^52",["^14",[["^5O","^5P"]]]]]],"~$play-from-here",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",205,"^8",7,"^9",205,"^:",21,"^51",["^14",["^52",["^14",[[]]]]]],"^J","~$mecca.music/play-from-here","^6","mecca/music.cljs","^:",21,"^56",["^14",[[]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",205,"^5>","^5?","^9",205,"^5:",0,"^5;",true,"^51",["^14",["^52",["^14",[[]]]]]],"~$mario-jump",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",8,"^8",7,"^9",8,"^:",17,"^51",["^14",["^52",["^14",[[]]]]]],"^J","~$mecca.music/mario-jump","^6","mecca/music.cljs","^:",17,"^56",["^14",[[]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",8,"^5>",["^I",["^5?","~$clj-nil"]],"^9",8,"^5:",0,"^5;",true,"^51",["^14",["^52",["^14",[[]]]]]],"~$play-song!",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",214,"^8",7,"^9",214,"^:",17,"^51",["^14",["^52",["^14",[[]]]]]],"^J","~$mecca.music/play-song!","^6","mecca/music.cljs","^:",17,"^56",["^14",[[]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",214,"^5>","^5?","^9",214,"^5:",0,"^5;",true,"^51",["^14",["^52",["^14",[[]]]]]],"~$queue-section",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",178,"^8",7,"^9",178,"^:",20,"^51",["^14",["^52",["^14",[["~$from","~$to"]]]]]],"^J","~$mecca.music/queue-section","^6","mecca/music.cljs","^:",20,"^56",["^14",[["^6?","^6@"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",178,"^5>","^5?","^9",178,"^5:",2,"^5;",true,"^51",["^14",["^52",["^14",[["^6?","^6@"]]]]]],"~$buffer-source",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",72,"^8",7,"^9",72,"^:",20,"^51",["^14",["^52",["^14",[["~$buffer"]]]]]],"^J","~$mecca.music/buffer-source","^6","mecca/music.cljs","^:",20,"^56",["^14",[["^6C"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",72,"^5>","^5?","^9",72,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^6C"]]]]]],"~$play-section",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",187,"^8",7,"^9",187,"^:",19,"^51",["^14",["^52",["^14",[["^6?","^6@"]]]]]],"^J","~$mecca.music/play-section","^6","mecca/music.cljs","^:",19,"^56",["^14",[["^6?","^6@"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",187,"^5>","^5?","^9",187,"^5:",2,"^5;",true,"^51",["^14",["^52",["^14",[["^6?","^6@"]]]]]],"~$get-and-decode",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",77,"^8",7,"^9",77,"^:",21,"^51",["^14",["^52",["^14",[["^5G"]]]]]],"^J","~$mecca.music/get-and-decode","^6","mecca/music.cljs","^:",21,"^56",["^14",[["^5G"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",77,"^5>","^5?","^9",77,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5G"]]]]]],"~$do-timer",["^ ","^J","~$mecca.music/do-timer","^6","mecca/music.cljs","^7",41,"^8",1,"^9",41,"^:",18,"^5",["^ ","^6","mecca/music.cljs","^7",41,"^8",10,"^9",41,"^:",18],"^5M","~$js"],"~$sax",["^ ","^J","~$mecca.music/sax","^6","mecca/music.cljs","^7",88,"^8",1,"^9",88,"^:",9,"^5",["^ ","^6","mecca/music.cljs","^7",88,"^8",6,"^9",88,"^:",9],"^5M","~$cljs.core/LazySeq"],"~$play-notes",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",196,"^8",7,"^9",196,"^:",17,"^51",["^14",["^52",["^14",[["~$n"]]]]]],"^J","~$mecca.music/play-notes","^6","mecca/music.cljs","^:",17,"^56",["^14",[["~$n"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",196,"^5>","^5?","^9",196,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["~$n"]]]]]],"~$inc-rate",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",115,"^8",7,"^9",115,"^:",15,"^51",["^14",["^52",["^14",[["^5D"]]]]]],"^J","~$mecca.music/inc-rate","^6","mecca/music.cljs","^:",15,"^56",["^14",[["^5D"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",115,"^5>","^5?","^9",115,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5D"]]]]]],"~$dispatch-timer-event",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",37,"^8",7,"^9",37,"^:",27,"^51",["^14",["^52",["^14",[[]]]]]],"^J","~$mecca.music/dispatch-timer-event","^6","mecca/music.cljs","^:",27,"^56",["^14",[[]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",37,"^5>",["^I",["^5?","^6;"]],"^9",37,"^5:",0,"^5;",true,"^51",["^14",["^52",["^14",[[]]]]]],"~$add-semitone",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",109,"^8",7,"^9",109,"^:",19,"^51",["^14",["^52",["^14",[["^5T"]]]]]],"^J","~$mecca.music/add-semitone","^6","mecca/music.cljs","^:",19,"^56",["^14",[["^5T"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",109,"^5>","^5V","^9",109,"^5:",1,"^5;",true,"^51",["^14",["^52",["^14",[["^5T"]]]]]],"~$mario-move",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",18,"^8",7,"^9",18,"^:",17,"^51",["^14",["^52",["^14",[[]]]]]],"^J","~$mecca.music/mario-move","^6","mecca/music.cljs","^:",17,"^56",["^14",[[]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",18,"^5>",["^I",["^5?","^6;"]],"^9",18,"^5:",0,"^5;",true,"^51",["^14",["^52",["^14",[[]]]]]],"~$delay-note",["^ ","^50",null,"^5",["^ ","^6","mecca/music.cljs","^7",172,"^8",7,"^9",172,"^:",17,"^51",["^14",["^52",["^14",[["^61","^62"]]]]]],"^J","~$mecca.music/delay-note","^6","mecca/music.cljs","^:",17,"^56",["^14",[["^61","^62"]]],"^57",null,"^58",["^14",[null,null]],"^8",1,"^59",false,"^7",172,"^5>",["^I",["^64","^5?"]],"^9",172,"^5:",2,"^5;",true,"^51",["^14",["^52",["^14",[["^61","^62"]]]]]],"~$measures",["^ ","^J","~$mecca.music/measures","^6","mecca/music.cljs","^7",85,"^8",1,"^9",85,"^:",14,"^5",["^ ","^6","mecca/music.cljs","^7",85,"^8",6,"^9",85,"^:",14],"^5M","^6N"]],"^W",["^ ","^F","^F","^S","^S","^P","^P"],"~:cljs.analyzer/constants",["^ ","^U",["^I",["~:jump!","~:samples","~:editor-beat-start","~:sound","~:advance-position","~:instrument","~:play-off","~:else","~:mario-jump","~:time","~:play-start","~:recur","~:decoded-buffer","~:pitch","~:tick!","~:playing?","~:reset-position","~:notes","~:url","~:audio-context","~:load-samples","~:tempo","~:move-mario","~:buffer","~:current-position"]],"~:order",["^7J","^7C","^7:","^7A","^7;","^72","^7E","^7<","^7G","^78","^7H","^76","^7@","^7I","^7D","^7>","^7=","^79","^75","^7F","^73","^77","^7?","^74","^7B"]],"^18",["^ ","^V",["^I",[]],"^W",["^I",[]]],"^19",["^ "],"^1:",["^T","^S","^P","^Q"]],"^M","^K","~:ns-specs",["^ "],"~:ns-spec-vars",["^I",[]],"~:compiler-options",["^1H",[["^7N","~:static-fns"],true,["^7N","~:shadow-tweaks"],null,["^7N","~:elide-asserts"],false,["^7N","~:optimize-constants"],null,["^7N","^1?"],null,["^7N","~:external-config"],null,["^7N","~:tooling-config"],null,["^7N","~:emit-constants"],null,["^7N","~:load-tests"],null,["^7N","~:form-size-threshold"],null,["^7N","~:infer-externs"],true,["^7N","^1A"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^7N","~:fn-invoke-direct"],null,["^7N","~:source-map"],"/dev/null"]]]